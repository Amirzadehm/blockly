<%

var msg = require('../../../locale/current/common');

var addProcedures = function() { -%>
  <% if (level > 3) { -%>
    <category name="<%= msg.catProcedures() %>" custom="PROCEDURE"></category>
  <% } else if (level == 2 || level == 3) { -%>
    <category name="<%= msg.catProcedures() %>">
      <block type="procedures_callnoreturn">
        <mutation name="fill 5"></mutation>
      </block>
    </category>
  <% } -%>
  <% if (level < 9) { -%>
    <category name="<%= msg.catCondition() %>">
      <block type="karel_if"></block>
    </category>
  <% } else if (level > 8) { -%>
    <category name="<%= msg.catCondition() %>">
      <block type="karel_if"></block>
      <block type="karel_ifElse"></block>
    </category>
  <% } -%>
<% }; -%>

<xml id="toolbox" style="display: none;">
  <category name="<%= msg.catActions() %>">
    <block type="maze_moveForward"></block>
    <block type="maze_turn"><title name="DIR">turnLeft</title></block>
    <block type="maze_turn"><title name="DIR">turnRight</title></block>
    <block type="maze_dig"></block>
    <block type="maze_fill"></block>
  </category>
  <% addProcedures() -%>
  <category name="<%= msg.catLoops() %>">
    <block type="maze_untilBlocked"></block>
    <block type="controls_repeat"></block>
  </category>
</xml>
